<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="a1">Poner</button>
    <p id="a2"></p>
    <p id="a3"></p>
    <p id="a4"></p>

    <script src="1.js"></script>
    <script>
var a1=document.getElementById("a1")
var a2=document.getElementById("a2")
var a3=document.getElementById("a3")
var a4=document.getElementById("a4")

let config = {
    headers:new Headers({
        "Content-Type": "text/plain"
        /* "Content-Type": "application/json" *///espera que el API o servidor le devuelva un JSON // es para decirle que la informacion que le va a mandar es json
    }), 
};

let res
const getUserAll = async()=>{
    config.method = "GET";//para designar el metodo que se ejecutara
    res = await ( await fetch("https://andressantage.github.io/apii/1.html",config)).json();
    /* let res = await ( await fetch("http://localhost:4001/usuarios",config)).json(); *///await es para esperar que algo suceda
    //.json() convierte el archivo a json
    console.log(res);
    a2.innerHTML=res.usuarios[0].id;
    a3.innerHTML=res.usuarios[0].nombre;
    a4.innerHTML=res.usuarios[0].apellido;
}
a1.addEventListener("click",function (){
    getUserAll();
})
////////////////
let config1 = {
    headers:new Headers({
        "Content-Type": "text/html"
        /* "Content-Type": "application/json" *///espera que el API o servidor le devuelva un JSON // es para decirle que la informacion que le va a mandar es json
    }), 
};

let res1
const getUserAll1 = async()=>{
    config.method = "GET";//para designar el metodo que se ejecutara
    html = await ( await fetch("1.html",config1)).text();
    const parser = new DOMParser();
    const htmlDoc = parser.parseFromString(html, "text/html");
    const bodyContent = htmlDoc.querySelector("body").innerHTML;
    /* let res = await ( await fetch("http://localhost:4001/usuarios",config)).json(); *///await es para esperar que algo suceda
    //.json() convierte el archivo a json
    console.log(bodyContent);

    const jsonContent = JSON.stringify(bodyContent);
    
    // Manipula el contenido JSON aquí
    console.log(jsonContent);

    console.log(jsonContent.usuarios[0].id)
}
getUserAll1()



////////////////
const url = "1.html"; // Reemplaza esto con la URL de la página que deseas consultar

fetch(url)
  .then(response => {
    if (response.ok) {
      return response.text();
    } else {
      throw new Error("Error en la solicitud");
    }
  })
  .then(data => {
    // Manipula el contenido HTML aquí
    console.log(data);
  })
  .catch(error => {
    console.error(error);
  });

  let config2 = {
    headers:new Headers({
        "Content-Type": "application/json"
        /* "Content-Type": "application/json" *///espera que el API o servidor le devuelva un JSON // es para decirle que la informacion que le va a mandar es json
    }), 
};

let res2
const getUserAll2 = async()=>{
    config.method = "GET";//para designar el metodo que se ejecutara
    res = await ( await fetch("1.json",config)).json();
    /* let res = await ( await fetch("http://localhost:4001/usuarios",config)).json(); *///await es para esperar que algo suceda
    //.json() convierte el archivo a json
    console.log(res2);
    console.log(res2.usuarios[0].id)
}
getUserAll2()

    </script>
</body>
</html>